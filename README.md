# ğŸ“¨ WaveEcho(íŒŒë„ë©”ì•„ë¦¬)

<picture>![lslpapplogo_125](https://github.com/jieun0330/WaveEcho/assets/42729069/b0cd7fc4-f4d4-42e9-a57e-7a2368125cef)</picture>

### ì†Œì¤‘í•œ ë©”ì‹œì§€ë¥¼ ë‹´ì€ ìª½ì§€ë¥¼ ë°”ë‹¤ ìœ„ë¡œ ë„ì›Œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ìª½ì§€ë¥¼ ì „ë‹¬í•˜ë©° ì†Œí†µí•  ìˆ˜ ìˆëŠ” ì•±
* `ìœ ì € ê´€ë¦¬` íšŒì›ê°€ì… / ë¡œê·¸ì¸ / ë¡œê·¸ì•„ì›ƒ / íšŒì›íƒˆí‡´
* `ê²Œì‹œê¸€ ë° ëŒ“ê¸€` ê²Œì‹œê¸€ ì‘ì„± ë° ì‚­ì œ / ëŒ“ê¸€ ìƒì„± ë° ì‚­ì œ
* `ê±°ë˜ ê¸°ëŠ¥` ê²Œì‹œê¸€ ì‘ì„± íšŸìˆ˜ ê²°ì œ / ê²°ì œ ë‚´ì—­ ì¡°íšŒ

<br/>

## âš’ï¸ ìŠ¤í¬ë¦°ìƒ·
![Group 517167395](https://github.com/jieun0330/WaveEcho/assets/42729069/56c5b6ab-b59f-439e-bffc-8fe018705ac6)


<br/>

## ğŸªš ì‹œì—° ì˜ìƒ

#### ìœ ì € ê´€ë¦¬
| íšŒì›ê°€ì… | ë¡œê·¸ì¸ | ë¡œê·¸ì•„ì›ƒ | íšŒì›íƒˆí‡´ |
|:---:|:---:|:---:|:---:|
|<picture>![á„’á…¬á„‹á…¯á†«á„€á…¡á„‹á…µá†¸](https://github.com/jieun0330/WaveEcho/assets/42729069/7d1b2a84-5311-40b7-b451-86cf12daf8e0)</picture>|<picture>![á„…á…©á„€á…³á„‹á…µá†«](https://github.com/jieun0330/WaveEcho/assets/42729069/9a0760cb-1a3f-4f03-a72f-304266104736)</picture>|<picture>![á„…á…©á„€á…³á„‹á…¡á„‹á…®á†º](https://github.com/jieun0330/WaveEcho/assets/42729069/dc65cdfb-9901-41a5-b3aa-4f05009ca4ef)</picture>|<picture>![á„’á…¬á„‹á…¯á†«á„á…¡á†¯á„á…¬](https://github.com/jieun0330/WaveEcho/assets/42729069/36797a87-652a-4ff0-a168-c8552610eeb7)</picture>



#### ê²Œì‹œê¸€ ë° ëŒ“ê¸€ ê´€ë¦¬
| ê²Œì‹œê¸€ ì‘ì„± | ê²Œì‹œê¸€ ì¡°íšŒ | ê²Œì‹œê¸€ ì‚­ì œ | ëŒ“ê¸€ ì‘ì„± |
|:---:|:---:|:---:|:---:|
|<picture>![á„‘á…©á„‰á…³á„á…³á„Œá…¡á†¨á„‰á…¥á†¼](https://github.com/jieun0330/WaveEcho/assets/42729069/0550ed94-8b07-47ed-bc9f-58406e30c642)</picture>|<picture>![á„‘á…©á„‰á…³á„á…³á„Œá…©á„’á…¬](https://github.com/jieun0330/WaveEcho/assets/42729069/e6f6d92d-7c79-47b7-bc71-467558d2634d)</picture>|<picture>![á„€á…¦á„‰á…µá„€á…³á†¯ á„‰á…¡á†¨á„Œá…¦](https://github.com/jieun0330/WaveEcho/assets/42729069/2422abfc-5a92-46ef-b336-c3159aaf7961)</picture>|<picture>![á„ƒá…¢á†ºá„€á…³á†¯ á„Œá…¡á†¨á„‰á…¥á†¼](https://github.com/jieun0330/WaveEcho/assets/42729069/d48527d3-2b40-41cb-aeb0-17e1ea38944c)</picture>

#### ê²°ì œ ê´€ë¦¬
| ê²°ì œ ë²„íŠ¼ í´ë¦­ | ê²°ì œ | ê²°ì œ ì™„ë£Œ | ê²°ì œ ë‚´ì—­ ì¡°íšŒ |
|:---:|:---:|:---:|:---:|
|<picture>![á„€á…§á†¯á„Œá…¦ á„‡á…¥á„á…³á†« á„á…³á†¯á„…á…µá†¨](https://github.com/jieun0330/WaveEcho/assets/42729069/d70a879f-1190-4a33-939d-4ddc43f3a4db)</picture>|<picture>![á„€á…§á†¯á„Œá…¦](https://github.com/jieun0330/WaveEcho/assets/42729069/52089dc7-fb23-4d31-9b57-781aad4fc246)</picture>|<picture>![á„€á…§á†¯á„Œá…¦á„‹á…ªá†«á„…á…­](https://github.com/jieun0330/WaveEcho/assets/42729069/7a892873-933c-4826-b508-3e8f215c685b)</picture>|<picture>![á„€á…§á†¯á„Œá…¦ á„‚á…¢á„‹á…§á†¨](https://github.com/jieun0330/WaveEcho/assets/42729069/2598ef4d-be06-46b0-ad82-fbdf3469ba2e)</picture>



<br/>

## ğŸ”¨ ê°œë°œê¸°ê°„
2024ë…„ 4ì›” 10ì¼ ~ 5ì›” 5ì¼ (ì•½ 3ì£¼, ì—…ë°ì´íŠ¸ ì§„í–‰ì¤‘)

<br/>

## âš™ï¸ ì•± ê°œë°œ í™˜ê²½
- ìµœì†Œ ë²„ì „: iOS 17.4
- iPhone SE ~ iPhone 15 Pro Max ê¸°ê¸° ëŒ€ì‘

<br/>

## ğŸ› ï¸ ì‚¬ìš©ê¸°ìˆ  ë° ë¼ì´ë¸ŒëŸ¬ë¦¬
`UIKit(Code Base)` `MVVM` `RxSwift` `SnapKit` `Kingfisher` `Alamofire` `Toast`

<br/>

## ğŸ”§ êµ¬í˜„ ê³ ë ¤ì‚¬í•­
- `RxSwift`ë¥¼ í™œìš©í•˜ì—¬ ë¹„ë™ê¸° ë°ì´í„° ìŠ¤íŠ¸ë¦¼ ê´€ë¦¬
- `RxSwift Single`ë° `TargetType` í”„ë¡œí† ì½œì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ë¡œì§ êµ¬ì„±
- `Alamofire interceptor`ë¥¼ ì‚¬ìš©í•˜ì—¬ JWT í† í° ê¸°ë°˜ íšŒì› ì¸ì¦ ê¸°ëŠ¥ êµ¬í˜„
- UI ì—…ë°ì´íŠ¸ë¥¼ ìœ„í•´ `Driver`ë¥¼ í™œìš©í•˜ì—¬ ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ì•ˆì „í•˜ê²Œ ì‘ì—…ì´ ì´ë£¨ì–´ì§€ë„ë¡ ë³´ì¥
- PG ê²°ì œ ì‹œìŠ¤í…œ ì—°ë™ ë° ì˜ìˆ˜ì¦ ê²€ì¦ ì²˜ë¦¬
- `Multipart Form Data` í˜•ì‹ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ì„œë²„ì— ì—…ë¡œë“œ
- `deinit`ì„ í†µí•´ `ViewController`ê°€ ì œëŒ€ë¡œ í•´ì œë˜ëŠ”ì§€ í™•ì¸í•˜ì—¬ ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€
- ì…ë ¥`Input`ê³¼ ì¶œë ¥`Output` êµ¬ì¡°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œì˜ ëª¨ë“ˆí™”ì™€ ê°€ë…ì„± í–¥ìƒ
- ìƒˆë¡œìš´ API í˜¸ì¶œ ìœ í˜•ì´ë‚˜ ì—ëŸ¬ ì¼€ì´ìŠ¤ê°€ ì¶”ê°€ë  ê²½ìš°, `APIError`ì™€ `CallType`ì— ëŒ€í•œ ì²˜ë¦¬ ë¡œì§ì„ ì‰½ê²Œ í™•ì¥í•  ìˆ˜ ìˆë„ë¡ ì„¤ê³„
- ê³µí†µ ê¸°ëŠ¥ì„ `BaseViewController`ì— ì •ì˜í•˜ì—¬, ì¤‘ë³µ ì½”ë“œë¥¼ ì¤„ì´ê³  ì½”ë“œì˜ ì¬ì‚¬ìš©ì„±ì„ ë†’ì„


<br/>



## â›ï¸ Trouble Shooting

**âŒ ë¬¸ì œ ìƒí™©**
<br/>

ëŒ“ê¸€ ì‘ì„± í›„ í™”ë©´ ì „í™˜ì‹œ ëŒ“ê¸€ ì—…ë°ì´íŠ¸ ë¬¸ì œ

**â­•ï¸ í•´ê²° ë°©ë²•**
- `protocol`ì„ ì‚¬ìš©í•˜ì—¬ ëŒ“ê¸€ ë°ì´í„° ì „ë‹¬
- ëŒ“ê¸€ ì‘ì„±ì´ ì™„ë£Œë˜ì—ˆì„ ë•Œ `delegate`ë¥¼ í†µí•´ ë°ì´í„° ì—…ë°ì´íŠ¸


```swift
// ReplyViewController
protocol fetchComment: AnyObject {
    func fetchDone(data: CommentData)
}

final class ReplyViewController: BaseViewController {
    
    weak var delegate: fetchComment?
```

```swift
// PopupViewController
extension PopupViewController: fetchComment {
    func fetchDone(data: CommentData) {
        var value = behaviorModel.value
        value.comments.insert(data, at: 0)
        behaviorModel.accept(value)
    }
}
```
<br/>


**âŒ ë¬¸ì œ ìƒí™©**
<br/>

ì´ë¯¸ì§€ ìš©ëŸ‰ ì••ì¶• ì‘ì—…ì„ í•˜ì§€ ì•Šì•„ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨

**â­•ï¸ í•´ê²° ë°©ë²•**
- UIImageì—ëŠ” jpeg Dataë¡œ ë°”ê¾¸ì–´ì£¼ëŠ” ë©”ì†Œë“œê°€ ìˆì–´ì„œ í•œ ì¤„ì˜ ì½”ë“œë¡œ ë³€ê²½ ê°€ëŠ¥
- compressionQualityì—ëŠ” ì••ì¶•ë¥ ì„ ì „ë‹¬




```swift
extension WritePostViewController: PHPickerViewControllerDelegate {
    func picker(_ picker: PHPickerViewController, didFinishPicking results: [PHPickerResult]) {
        picker.dismiss(animated: true)
        
        let itemProvider = results.first?.itemProvider
        
        if let itemProvider = itemProvider,
           itemProvider.canLoadObject(ofClass: UIImage.self) {
            itemProvider.loadObject(ofClass: UIImage.self) { image, error in
                DispatchQueue.main.async {
                    let realImage = image as? UIImage
                    let imagePng = realImage?.jpegData(compressionQuality: 0.3)
                    self.imageData.accept(imagePng!)
                    self.mainView.presentPhotoView.image = image as? UIImage
                }
            }
        }
    }
}
```
<br/>

**âŒ ë¬¸ì œ ìƒí™©: ì—ëŸ¬ ì‘ë‹µ ì½”ë“œ íë¦„ ì´í•´**
<br/>
ì„œë²„ë¡œë¶€í„° ë°›ëŠ” ì‘ë‹µì½”ë“œ 419ì™€ 418ì˜ ì²˜ë¦¬ ë°©ì‹ì„ ì´í•´í•˜ëŠ” ê²ƒì´ ì–´ë ¤ì› ë‹¤.
<br/>
419 ìƒíƒœ ì½”ë“œë¥¼ ë§Œë‚¬ì„ ë•Œ, 418 ìƒíƒœ ì½”ë“œë¥¼ ë§Œë‚˜ì§€ ì•Šê³ ëŠ” ì ‘í•  ìˆ˜ ì—†ë‹¤ëŠ” ì ì´ì—ˆë‹¤.

**â­•ï¸ í•´ê²° ë°©ë²•**
- ë¨¼ì €, 419ì™€ 418 ì‘ë‹µ ì½”ë“œì˜ ì²˜ë¦¬ë°©ë²•ì„ ëª…í™•íˆ ì´í•´
- APIManagerì— ë¦¬í”„ë ˆì‹œ í† í° ë§Œë£Œ(418) ìƒíƒœë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆëŠ”  `RefreshToken interceptor` ë¡œì§ êµ¬í˜„
- ë¡œê·¸ì•„ì›ƒ ê³¼ì •ì„ ì‚¬ìš©ìì—ê²Œ ì•Œë¦¬ê¸° ìœ„í•´ `MyPostViewController`ì—ì„œ ë¡œê·¸ì•„ì›ƒ ì•Œë¦¼ê³¼ í•¨ê»˜ í™”ë©´ ì „í™˜ ë¡œì§ êµ¬í˜„

```swift
// MyPostViewController
private lazy var logout = UIAction(title: "ë¡œê·¸ì•„ì›ƒ",
                                       image: UIImage(systemName: "rectangle.portrait.and.arrow.right"),
                                       handler: { [weak self] _ in
        guard let self else { return }
        makeAlert(alertTitle: "ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?", alertMessage: nil) { [weak self] completeAction in
            guard let self else { return }
            view.makeToast("ë¡œê·¸ì•„ì›ƒë˜ì—ˆìŠµë‹ˆë‹¤", duration: 1, position: .center) { [weak self] didTap in
                guard let self else { return }
                UserDefaultsManager.shared.accessToken.removeAll()
                setVC(vc: LoginViewController())
            }
        }
    })
```


<br/>

## ğŸ”§ ì¶”í›„ ì—…ë°ì´íŠ¸ ì‚¬í•­

- [ ] UserDefaults enum í™œìš© ë¦¬íŒ©í† ë§
- [ ] cell ì†ì„± ë¦¬íŒ©í† ë§
- [ ] ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ í™•ì¸

<br/>

## ğŸ‘ğŸ» íšŒê³ 
í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•˜ê¸° ì „ê¹Œì§€, ì‘ë‹µ ì½”ë“œì— ëŒ€í•œ ì²˜ë¦¬, Router enum í™œìš©, HTTP ë©”ì„œë“œ ë¿ ì•„ë‹ˆë¼ ë¦¬í”„ë ˆì‹œ í† í°ì˜ ë§Œë£Œì™€ ê°±ì‹  ê´€ë¦¬ê¹Œì§€ ì´ë ‡ê²Œ ë§ì€ ë¶€ë¶„ì„ í•œ ë²ˆì— ë‹¤ë£¨ì–´ì•¼ í•˜ëŠ” ê²½í—˜ì€ ì „ë¬´í–ˆë‹¤. ì´ ëª¨ë“  ë¶€ë¶„ì„ ì–´ë””ì„œ ì–´ë–»ê²Œ ì‹œì‘í•´ì•¼ í• ì§€ ë§‰ë§‰í–ˆë‹¤. í•˜ì§€ë§Œ ì´ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ ì‹¤ì œë¡œ ì„œë²„ ìš”ì²­ì„ ë³´ë‚´ê³  ë°›ì•„ë³´ë©° ì„œë¹„ìŠ¤ë¥¼ í™•ì¥í•´ ë‚˜ê°€ëŠ” ê³¼ì •ì€ ì¢‹ì€ ê²½í—˜ì´ì—ˆë‹¤.
ì„œë²„ í†µì‹ ì„ êµ¬í˜„í•˜ë©°, ê° HTTP ë©”ì„œë“œ(GET, POST ë“±)ì˜ ì‚¬ìš©ë²•ì„ ìµí˜”ê³ , REST API ì„¤ê³„ ì›ì¹™ì— ëŒ€í•´ ì´í•´í•  ìˆ˜ ìˆì—ˆë‹¤.
íŠ¹íˆ ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œ ì²˜ìŒìœ¼ë¡œ ë¦¬í”„ë ˆì‹œ í† í° ê°œë…ì— ëŒ€í•´ ê¹¨ë‹¬ì•˜ë‹¤. ì•¡ì„¸ìŠ¤ í† í°ì´ ë§Œë£Œë˜ì—ˆì„ ë•Œ ì–´ë–»ê²Œ í† í°ì„ ê°±ì‹ í•  ìˆ˜ ìˆì„ì§€ì— ëŒ€í•œ ê³ ë¯¼ì€ í”„ë¡œì íŠ¸ë¥¼ í†µí•´ í•´ê²°í•´ ë‚˜ê°€ëŠ” í° ë„ì „ì´ì—ˆë‹¤. ì´ ê³¼ì •ì—ì„œ, í† í° ê°±ì‹  ë¡œì§ì„ êµ¬í˜„í•˜ê³ , ì´ë¥¼ í”„ë¡œì íŠ¸ì˜ ë‹¤ë¥¸ ë¶€ë¶„ê³¼ í†µí•©í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ë‹¤.
